# Тема 7. Работа с файлами (ввод, вывод)
Отчет по Теме #7 выполнил(а):
- Зернаев Роман Денисович
- ИВТ-22-1

| Задание | Лаб_раб | Сам_раб |
| ------ | ------ | ------ |
| Задание 1 | + | + |
| Задание 2 | + | + |
| Задание 3 | + | + |
| Задание 4 | + | + |
| Задание 5 | + | + |
| Задание 6 | + | 
| Задание 7 | + | 
| Задание 8 | + | 
| Задание 9 | + | 
| Задание 10 |+ |

знак "+" - задание выполнено; знак "-" - задание не выполнено;

Работу проверили:
- к.э.н., доцент Панов М.А.

## Лабораторная работа №1
### Составьте текстовый файл и положите его в одну директорию с
программой на Python. Текстовый файл должен состоять минимум из
двух строк

### Результат.
![image](https://github.com/user-attachments/assets/3f328977-0422-4e5a-b3e3-08bc60f62c03)

## Лабораторная работа №2
### Напишите программу, которая выведет только первую строку из
вашего файла, при этом используйте конструкцию open()/close().

```python
f = open('input.txt', 'r')
print(f.readline())
f.close()
```

### Результат.
![image](https://github.com/user-attachments/assets/8d0ef8ba-9b55-4602-91f4-836cb6182d13)

## Лабораторная работа №3
### Напишите программу, которая выведет все строки из вашего файла в
массиве, при этом используйте конструкцию open()/close().

```python
f = open('input.txt', 'r')
print(f.readlines())
f.close()
```

### Результат.
![image](https://github.com/user-attachments/assets/e9c53c43-bf11-498d-a1ef-c78356247c57)

## Лабораторная работа №4
### Напишите программу, которая выведет все строки из вашего файла в
массиве, при этом используйте конструкцию with open()

```python
with open('input.txt') as f:
    print(f.readlines())
```

### Результат.
![image](https://github.com/user-attachments/assets/b8fb9ef6-9ec9-4751-92e9-441f41f23695)

## Лабораторная работа №5
### Напишите программу, которая выведет каждую строку из вашего
файла отдельно, при этом используйте конструкцию with open()

```python
with open('input.txt') as f:
    for line in f:
        print(line)
```

### Результат.
![image](https://github.com/user-attachments/assets/97cda1ac-f919-487a-8627-cfb9c10444ee)

## Лабораторная работа №6
### Напишите программу, которая будет добавлять новую строку в ваш
файл, а потом выведет полученный файл в консоль. Вывод можно
осуществлять любым способом. Обязательно проверьте сам файл,
чтобы изменения в нем тоже отображались

```python
with open('input.txt', 'a+') as f:
    f.write('\nIn additional line')
    
    
with open('input.txt', 'r') as f:
    result = f.readlines()
    print(result)
```

### Результат.
![image](https://github.com/user-attachments/assets/1a29988b-facf-4615-9cd2-e9c39b400899)
![image](https://github.com/user-attachments/assets/6177cefd-0a3d-42d6-9833-7704bdaf484a)

## Лабораторная работа №7
### Напишите программу, которая перепишет всю информацию, которая
была у вас в файле до этого, например напишет любые данные из
произвольно вами составленного списка. Также не забудьте проверить
что измененная вами информация сохранилась в файле.

```python
lines = ['one', 'two', 'three']
with open('input.txt', 'w') as f:
    for line in lines:
        f.write('\nCycle run ' + line)
    print('Done!')
```

### Результат.
![image](https://github.com/user-attachments/assets/cda91940-ea84-4204-aa9a-a6925dc6da1e)
![image](https://github.com/user-attachments/assets/46ec7f15-de7f-44b5-8b18-40ff150786e2)

## Лабораторная работа №8
### Выберите любую папку на своем компьютере, имеющую вложенные
директории. Выведите на печать в терминал ее содержимое, как и всех
подкаталогов при помощи функции print_docs(directory).

```python
import os


def print_docs(directory):
    all_files = os.walk(directory)
    for catalog in all_files:
        print(f'Папка {catalog[0]} содержит:')
        print(f'Директории: {", ".join([folder for folder in catalog[1]])}')
        print(f'Файлы: {", ".join([file for file in catalog[2]])}')
        print('-' * 40)
    
    
print_docs('D:\Documents\Desktop\для папок\Программная инженерия')
```

### Результат.
![image](https://github.com/user-attachments/assets/0740c323-ae74-4eca-8d36-107d16476cfa)

## Лабораторная работа №9
### Документ «input.txt» содержит следующий текст:
Приветствие
Спасибо
Извините
Пожалуйста
До свидания
Ты готов?
Как дела?
С днем рождения!
Удача!
Я тебя люблю.
Требуется реализовать функцию, которая выводит слово, имеющее
максимальную длину (или список слов, если таковых несколько).
Проверьте работоспособность программы на своем наборе данных

```python
def longest_words(file):
    with open(file, encoding='utf-8') as f:
        words = f.read().split()
        max_length = len(max(words, key=len))
        sought_words = [word for word in words if len(word) == max_length]
                
        if len(sought_words) == 1:
            return sought_words[0]
        return sought_words
    
    
print(longest_words('input1.txt'))
```

### Результат.
![image](https://github.com/user-attachments/assets/063a7b02-39f9-4a24-8451-a240ecd43497)

Выводы:
1. Исправил некоторые недочеты в первоначальном коде.
2. Перезапись переменной sought_words: каждый раз, когда находится новое слово максимальной длины, оно перезаписывает предыдущее. Поэтому, если несколько слов имеют одинаковую длину, программа вернёт только последнее.
3. Проверка длины sought_words: проверяется длина строки, а не количество найденных слов. В результате условие if len(sought_words) == 1: всегда будет неправильно интерпретировано.
4. Попытка доступа к первому элементу sought_words: здесь код пытается взять первый символ строки, а не слово.
5. Исправления - Хранить все слова с максимальной длиной в списке. Проверить, есть ли одно слово или несколько.
   
## Лабораторная работа №10
### Требуется создать csv-файл «rows_300.csv» со следующими
столбцами:
• № - номер по порядку (от 1 до 300);
• Секунда – текущая секунда на вашем ПК;
• Микросекунда – текущая миллисекунда на часах.
Для наглядности на каждой итерации цикла искусственно
приостанавливайте скрипт на 0,01 секунды.

```python
import csv
import datetime
import time

with open('rows_300.csv', 'w', encoding='utf-8', newline='') as f:
    writer = csv.writer(f)
    writer.writerow(['№', 'Секунда', 'Микросекунда'])
    for line in range(1, 301):
        writer.writerow([line, datetime.datetime.now().second, datetime.datetime.now().microsecond])
        time.sleep(0.01)
```

### Результат.
![image](https://github.com/user-attachments/assets/31ccfc07-8345-4858-96e2-13bbb3e19149)
![image](https://github.com/user-attachments/assets/692230c6-114d-4182-82f6-35ea390ced58)

## Самостоятельная работа №1
### Найдите в интернете любую статью (объем статьи не менее 200
слов), скопируйте ее содержимое в файл и напишите программу,
которая считает количество слов в текстовом файле и определит
самое часто встречающееся слово. Результатом выполнения задачи
будет: скриншот файла со статьей, листинг кода, и вывод в консоль,
в котором будет указана вся необходимая информация.

```python
from collections import Counter
def count_most_frequent_word(file):
    with open(file, 'r', encoding='utf-8') as f:
        text = f.read().lower()
        words = text.split()
        word_counts = Counter(words)
        most_common_word = word_counts.most_common(1)[0][0]
        print(f"Количество слов в статье: {len(words)}")
        print(f"Самое частое слово: '{most_common_word}'")


count_most_frequent_word('Статья.txt')
```
### Результат.
![image](https://github.com/user-attachments/assets/de0fe57a-d87c-411f-9255-e70e53629f23)
![image](https://github.com/user-attachments/assets/6e660ea2-acd2-48f3-a157-d6d250330252)

Выводы:
1. Программа эффективно анализирует текстовый файл, подсчитывает количество слов и находит наиболее часто встречающееся слово.
2. Она использует модуль collections.Counter, что упрощает работу с подсчётом частоты слов.
3. Программа полезна для анализа текста, особенно для частотного анализа слов, который может применяться в лингвистике, обработке текста и других задачах анализа данных.
  
## Самостоятельная работа №2
### У вас появилась потребность в ведении книги расходов, посмотрев
все существующие варианты вы пришли к выводу что вас ничего не
устраивает и нужно все делать самому. Напишите программу для
учета расходов. Программа должна позволять вводить информацию
о расходах, сохранять ее в файл и выводить существующие данные в
консоль. Ввод информации происходит через консоль. Результатом
выполнения задачи будет: скриншот файла с учетом расходов,
листинг кода, и вывод в консоль, с демонстрацией
работоспособности программы

```python
import csv

def add_expense():
    with open('expenses.csv', 'a', newline='', encoding='utf-8') as f:
        writer = csv.writer(f)
        expense = input("Введите описание расхода: ")
        amount = input("Введите сумму расхода: ")
        writer.writerow([expense, amount])
        print("Расход добавлен!")

def show_expenses():
    print("\nВаши расходы:")
    try:
        with open('expenses.csv', 'r', encoding='utf-8') as f:
            reader = csv.reader(f)
            for row in reader:
                print(f"Описание: {row[0]}, Сумма: {row[1]}")
    except FileNotFoundError:
        print("Файл с расходами не найден.")

def main():
    while True:
        choice = input("\nВыберите действие: \n1 - Добавить расход\n2 - Показать расходы\n3 - Выйти\nВаш выбор: ")
        if choice == '1':
            add_expense()
        elif choice == '2':
            show_expenses()
        elif choice == '3':
            print("Программа завершена.")
            break
        else:
            print("Неверный ввод. Попробуйте снова.")

main()
```
### Результат.
![image](https://github.com/user-attachments/assets/af7a20f4-8ab6-419d-93be-cae4fa85e1e6)
![image](https://github.com/user-attachments/assets/854d04d0-3165-4829-891b-02c79c68f6d2)

Выводы:
1. Программа проста и выполняет свою задачу: она позволяет легко вводить расходы, сохранять их и выводить уже сохранённые данные.
2. Программа корректно обрабатывает отсутствие файла расходов, выводя соответствующее сообщение.
3. Программа может быть расширена и улучшена, например, за счёт проверки правильности введённой суммы или более гибкого управления файлами.
  
## Самостоятельная работа №3
### Имеется файл input.txt с текстом на латинице. Напишите программу,
которая выводит следующую статистику по тексту: количество букв
латинского алфавита; число слов; число строк.
• Текст в файле:
Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
• Ожидаемый результат:
Input file contains:
108 letters
20 words
4 lines

```python
def text_statistics(file):
    with open(file, 'r', encoding='utf-8') as f:
        lines = f.readlines()
    num_lines = len(lines)
    num_letters = 0
    num_words = 0

    for line in lines:
        num_letters += sum(char.isalpha() for char in line)
        num_words += len(line.split())
    print(f"Input file contains:")
    print(f"{num_letters} letters")
    print(f"{num_words} words")
    print(f"{num_lines} lines")


text_statistics('input2.txt')
```
### Результат.
![image](https://github.com/user-attachments/assets/674a9133-01e1-442a-a4f6-fd405fc97a2e)
![image](https://github.com/user-attachments/assets/6c9fc726-ab51-4454-885b-8454786173c5)

Выводы:
1. Основная задача программы:
Программа читает текстовый файл и подсчитывает три показателя:
Количество строк.
Количество букв.
Количество слов.
Результаты выводятся на экран.
2. Логика программы:
Файл открывается с помощью функции open() в режиме чтения.
lines = f.readlines() — считывает все строки файла в список.
Количество строк: вычисляется с помощью len(lines), что возвращает количество элементов в списке строк.
Количество букв: для каждой строки программа подсчитывает количество символов, которые являются буквами, используя char.isalpha().
Количество слов: Разбивка строки на слова выполняется с помощью метода split(), который возвращает количество слов в строке.
3. Ожидаемый вывод: Программа выводит три статистики по содержимому файла:
Количество букв.
Количество слов.
Количество строк.

  
## Самостоятельная работа №4
### Напишите программу, которая получает на вход предложение,
выводит его в терминал, заменяя все запрещенные слова
звездочками * (количество звездочек равно количеству букв в
слове). Запрещенные слова, разделенные символом пробела,
хранятся в текстовом файле input.txt. Все слова в этом файле
записаны в нижнем регистре. Программа должна заменить
запрещенные слова, где бы они ни встречались, даже в середине
другого слова. Замена производится независимо от регистра: если 
файл input.txt содержит запрещенное слово exam, то слова exam,
Exam, ExaM, EXAM и exAm должны быть заменены на ****.
• Запрещенные слова:
hello email python the exam wor is
• Предложение для проверки:
Hello, world! Python IS the programming language of thE future. My
EMAIL is....
PYTHON is awesome!!!!
• Ожидаемый результат:
*****, ***ld! ****** ** *** programming language of *** future. My
***** **....
****** ** awesome!!!!

```python
def load_banned_words(file):
    with open(file, 'r', encoding='utf-8') as f:
        return f.read().split()

def censor_sentence(sentence, banned_words):
    for word in banned_words:
        sentence = sentence.replace(word.lower(), '*' * len(word))
        sentence = sentence.replace(word.upper(), '*' * len(word))
        sentence = sentence.replace(word.capitalize(), '*' * len(word))
    return sentence

def main():
    banned_words = load_banned_words('input3.txt')
    sentence = input("Введите предложение: ")
    censored_sentence = censor_sentence(sentence, banned_words)
    print(censored_sentence)


main()
```
### Результат.
![image](https://github.com/user-attachments/assets/eec914a5-8654-47be-bb27-88ae2f5524a5)
![image](https://github.com/user-attachments/assets/c4505ee9-4953-41cb-8208-8c62d055cc92)

Выводы:
1. Программа корректно заменяет запрещённые слова, независимо от их регистра.
2. Использование replace() в цикле упрощает замену слов, но программа не ищет запрещённые слова в середине других слов, как требовалось.
  
## Самостоятельная работа №5
### Самостоятельно придумайте и решите задачу, которая будет
взаимодействовать с текстовым файлом

```python
def count_file_stats(file):
    with open(file, 'r', encoding='utf-8') as f:
        lines = f.readlines()

    num_lines = len(lines)
    num_words = sum(len(line.split()) for line in lines)
    num_chars = sum(len(line) for line in lines)

    print(f"Файл содержит:")
    print(f"{num_lines} строк(и)")
    print(f"{num_words} слов(а)")
    print(f"{num_chars} символов(а) (включая пробелы)")


count_file_stats('input4.txt')
```
### Результат.
![image](https://github.com/user-attachments/assets/422e5f9d-baeb-43c2-82fa-2061d2007fe8)
![image](https://github.com/user-attachments/assets/b1e5e8e3-236f-408d-9843-0884d74123cb)

Выводы:
1. Читает файл и выводит количество строк, слов и символов (включая пробелы).
2. Использует простые операции для анализа текста.
3. Подходит для базовой обработки текстовых файлов.

## Общие выводы по теме
1. В этой теме я узнал многое об Работа с файлами (ввод, вывод)
2. Так как это мой 7 урок по программированию на python, он позволил мне расширить свои базовые знания и позволил мне, как выполнять примеры, так и приминить полученые знания на практике, как например в "Самостоятельной работе"
